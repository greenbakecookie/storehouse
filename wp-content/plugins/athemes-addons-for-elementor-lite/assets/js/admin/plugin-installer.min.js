"use strict";!function(n){var t=window.addonsPluginInstaller||{};t={installButtonSelector:".addons-install-plugin",init:function(){this.events()},events:function(){var t=this;n(document).on("click",t.installButtonSelector,(function(i){i.preventDefault();var e="external"===n(this).data("type")?"external":"wporg",a=n(this).data("plugin-name"),l=n(this).data("redirect-to");if("external"===e){var o=n(this).data("plugin-url");t.installExternalPlugin(n(this),o,a,l)}}))},installExternalPlugin:function(t,i,e,a){var l={action:"addons_install_external_plugin",url:i,plugin_name:e,nonce:addonsPluginInstallerConfig.nonce};t.text(addonsPluginInstallerConfig.i18n.installingText),n.post(ajaxurl,l,(function(n){if(!n.success)return t.text(addonsPluginInstallerConfig.i18n.defaultText),void alert(n.data.message);t.text(addonsPluginInstallerConfig.i18n.activatingText),setTimeout((function(){window.location.href=a}),1e3)}))}},n(document).ready((function(){t.init()}))}(jQuery);