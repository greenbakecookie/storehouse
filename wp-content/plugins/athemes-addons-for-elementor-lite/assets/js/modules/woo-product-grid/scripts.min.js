(function(e){var t=function(e,t){var d=t(".athemes-addons-products-grid",e),a=void 0!==d.data("categories")?d.data("categories"):"",o=void 0!==d.data("display-mode")?d.data("display-mode"):"",r=void 0!==d.data("widget-id")?d.data("widget-id"):"",n=void 0!==d.data("page-id")?d.data("page-id"):"",i=void 0!==d.data("posts-per-page")?d.data("posts-per-page"):3,s=void 0!==d.data("offset")?d.data("offset"):0,c=void 0!==d.data("orderby")?d.data("orderby"):"date",p=void 0!==d.data("order")?d.data("order"):"DESC",l=void 0!==d.data("max-pages")?d.data("max-pages"):1,f=0;t(".product-filter span",e).on("click",function(d){d.preventDefault();var u=t(this);t(".product-filter span").removeClass("active"),u.addClass("active"),$term=void 0!==u.data("filter")?u.data("filter"):"",t.ajax({url:AAFESettings.ajaxurl,type:"POST",data:{action:"aafe_product_filter",nonce:AAFESettings.nonce_product_filter,term:$term,categories:a,posts_per_page:i,offset:s,orderby:c,order:p,display_mode:o,widget_id:r,page_id:n},beforeSend:function(){t(".elementor-element-"+r+" .product-grid-inner").find(".product-grid-loader").addClass("show")},success:function(d){var a=t(d);t(".elementor-element-"+r+" .product-grid-inner ul").empty().append(a),l=t(".elementor-element-"+r+" .product-grid-inner ul").find(".maxpages").data("maxpages"),f+1==l?e.find(".product-grid-load-more").hide():e.find(".product-grid-load-more").show()},complete:function(){t(".elementor-element-"+r+" .product-grid-inner").find(".product-grid-loader").removeClass("show")},error:function(e){console.log(e)}}),t(document).trigger("athemes-addons-woo-product-grid-filter-changed")}),t(".load-more-button",e).on("click",function(d){d.preventDefault();var u=t(this),g=t(".product-filter span.active",e);$term=void 0!==g.data("filter")?g.data("filter"):"all",f++,t(document).on("athemes-addons-woo-product-grid-filter-changed",function(){f=0,u.show()}),t.ajax({url:AAFESettings.ajaxurl,type:"POST",data:{action:"aafe_product_filter",nonce:AAFESettings.nonce_product_filter,term:$term,categories:a,posts_per_page:i,offset:s,orderby:c,order:p,display_mode:o,widget_id:r,page_id:n,max_pages:l,current_page:f,load_more:!0},beforeSend:function(){u.find("span").show()},success:function(e){var d=t(e);t(".elementor-element-"+r+" .product-grid-inner ul").append(d)},complete:function(){u.find("span").hide(),f>=l&&u.hide()},error:function(e){console.log(e)}})})};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/athemes-addons-woo-product-grid.default",t)})})(jQuery);